<style>
  table {

    font-family: "Open Sans", sans-serif;
    line-height: 1.25;

    border: 1px solid #ccc;
    border-collapse: collapse;
    margin: 0;
    padding: 0;
    width: 100%;
    table-layout: fixed;
  }

  table caption {
    font-size: 1.5em;
    margin: .5em 0 .75em;
  }

  table tr {
    background-color: #f8f8f8;
    border: 1px solid #ddd;
    padding: .35em;
  }

  table th,
  table td {
    padding: .625em;
    text-align: center;
  }

  table th {
    font-size: .85em;
    letter-spacing: .1em;
    text-transform: uppercase;
  }

  @media screen and (max-width: 600px) {
    table {
      border: 0;
    }

    table caption {
      font-size: 1.3em;
    }
    
    table thead {
      border: none;
      clip: rect(0 0 0 0);
      height: 1px;
      margin: -1px;
      overflow: hidden;
      padding: 0;
      position: absolute;
      width: 1px;
    }
    
    table tr {
      border-bottom: 3px solid #ddd;
      display: block;
      margin-bottom: .625em;
    }
    
    table td {
      border-bottom: 1px solid #ddd;
      display: block;
      font-size: .8em;
      text-align: right;
    }
    
    table td::before {
      /*
      * aria-label has no advantage, it won't be read inside a table
      content: attr(aria-label);
      */
      content: attr(data-label);
      float: left;
      font-weight: bold;
      text-transform: uppercase;
    }
    
    table td:last-child {
      border-bottom: 0;
    }
  }
</style>
<div>
  <h2 class="text-lg font-semibold mb-4">Detected Objects</h2>
  <table id="objectsTable">
      <thead>
          <tr>
              <th>Frame Number</th>
              <th>Object Count</th>
          </tr>
      </thead>
      <tbody>
          {% for frame in data.frames %}
          <tr>
              <td>{{ frame.frame_number }}</td>
              <td>{{ frame.objects|length }}</td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
  <select id="frameSelect" onchange="changeFrame()">
      {% for frame in data.frames %}
      <option value="{{ frame.frame_number }}">Frame #{{ frame.frame_number }}</option>
      {% endfor %}
  </select>
  {% for entry in data.frames %}
  <div id="frame{{ entry.frame_number }}" style="display: none;" class="frame-table">
      <h3>Frame {{ entry.frame_number }}</h3>
      <table>
          <thead>
              <tr>
                  <th>Tracker ID</th>
                  <th>Class ID</th>
                  <th>Class</th>
                  <th>Confidence</th>
                  <th>XY</th>
              </tr>
          </thead>
          <tbody>
              {% for object in entry.objects %}
              <tr>
                  <td>{{ object.tracker_id }}</td>
                  <td>{{ object.class_id }}</td>
                  <td>{{ object.class }}</td>
                  <td>{{ (object.confidence * 100)|int }}%</td>
                  <td>
                    <img src="{{ url_for('crop_image', filename=data.source_filename, xy_upper_left=object.xyxy[0]|int|string+","+object.xyxy[1]|int|string, xy_bottom_right=object.xyxy[2]|int|string+","+object.xyxy[3]|int|string, frame_number=entry.frame_number) }}" alt="Cropped Image">
                  </td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
  </div>
  {% endfor %}
  
</div>